<!doctype html>
<html>
  <head>
    <title>Embed Test</title>
		<style>
			div[data-field=ReviewPrompts] .icon-remove-sign, div[data-field=ReviewPrompts] .c-repeating-section-add { display: none; }
		</style>
		<script>
			function formLoaded() {
				$extend(['Cognito.Forms.FormEntry.FirstOrganization1.VoiceStudioProNew'], function(type) {
					type.meta.addRule({
						execute: function(sender, args) {
							if (args.collectionChanged) {
								sender.get_ReviewPrompts().clear();
								ExoJQuery.each(args.newValue, function(index, item) {
									sender.get_ReviewPrompts().add(new Cognito.Forms.FormEntry.FirstOrganization1.VoiceStudioProNew.ReviewPrompts({ ItemNumber: index + 1, FileName: item.get_FileName(), Script: item.get_Script() }));
								});
							} else {
								var targetItem;
								ExoJQuery.each(sender.get_ReviewPrompts(), function(index, item) {
									if (item.get_ItemNumber() === args.originalSender.get_ItemNumber())
									{
										targetItem = item;
										return;
									}
								});

								if (targetItem) {
									targetItem.meta.property(args.triggeredBy.get_name()).value(targetItem, args.newValue);
								}
							}
						},
						onChangeOf: ['Prompts{FileName,Script}']
					});
				});
			}
		</script>
  </head>
  <body>
<div class="cognito">
<script src="https://services.cognitoforms.com/s/JViYec0P-EaS2hfIcKMHZA"></script>
<script>Cognito.load("forms", { id: "17" }, { success: formLoaded });</script>
</div>
  </body>
</html>
